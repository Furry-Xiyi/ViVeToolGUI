<Page
    x:Class="ViVeToolGUI.QueryPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Padding="40,40,40,20" Spacing="16">
            <TextBlock x:Uid="Query_Title" 
                      Style="{StaticResource TitleTextBlockStyle}"/>

            <TextBlock x:Uid="Query_Description" 
                      Style="{StaticResource BodyTextBlockStyle}"
                      TextWrapping="Wrap"
                      Opacity="0.7"/>

            <StackPanel Orientation="Horizontal" Spacing="12">
                <Button x:Name="QueryAllButton" 
                       x:Uid="Query_QueryAllButton"
                       Style="{StaticResource AccentButtonStyle}"
                       Click="QueryAllButton_Click">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE721;" FontSize="16"/>
                        <TextBlock x:Uid="Query_QueryAllButtonText"/>
                    </StackPanel>
                </Button>

                <Button x:Name="ExportButton" 
                       x:Uid="Query_ExportButton"
                       Click="ExportButton_Click"
                       IsEnabled="False">
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE74E;" FontSize="16"/>
                        <TextBlock x:Uid="Query_ExportButtonText"/>
                    </StackPanel>
                </Button>

                <TextBox x:Name="SearchBox"
         x:Uid="Query_SearchBox"
         Width="300"
         IsEnabled="False"
         TextChanged="SearchBox_TextChanged"/>
            </StackPanel>
        </StackPanel>

        <ScrollViewer Grid.Row="1" Padding="40,0,40,40">
            <Border BorderThickness="1" 
                   BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                   Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                   CornerRadius="8">
                <ListView x:Name="FeaturesListView"
                         SelectionMode="Single">
                    <ListView.Header>
                        <Grid Padding="12" 
                             Background="{ThemeResource CardBackgroundFillColorSecondaryBrush}"
                             ColumnSpacing="12"
                             Height="40">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" 
                                      x:Uid="Query_HeaderID" 
                                      FontWeight="SemiBold"/>
                            <TextBlock Grid.Column="1" 
                                      x:Uid="Query_HeaderPriority" 
                                      FontWeight="SemiBold"/>
                            <TextBlock Grid.Column="2" 
                                      x:Uid="Query_HeaderState" 
                                      FontWeight="SemiBold"/>
                            <TextBlock Grid.Column="3" 
                                      x:Uid="Query_HeaderType" 
                                      FontWeight="SemiBold"/>
                            <TextBlock Grid.Column="4" 
                                      x:Uid="Query_HeaderName" 
                                      FontWeight="SemiBold"/>
                        </Grid>
                    </ListView.Header>
                </ListView>
            </Border>
        </ScrollViewer>
        <Grid x:Name="QueryProgressBar"
      Grid.RowSpan="2"
      Background="#80000000"
      Visibility="Collapsed"
      HorizontalAlignment="Stretch"
      VerticalAlignment="Stretch"
      Canvas.ZIndex="999">

            <StackPanel HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Spacing="16">

                <ProgressRing Width="60"
                      Height="60"
                      IsActive="True"/>

                <TextBlock x:Uid="Query_LoadingText"
                   Foreground="White"
                   FontSize="16"
                   Opacity="0.9"/>
            </StackPanel>
        </Grid>
    </Grid>
</Page>